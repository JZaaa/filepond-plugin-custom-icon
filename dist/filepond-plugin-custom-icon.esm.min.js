/*!
 * FilePondPluginCustomIcon 1.0.0
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */

/* eslint-disable */

const e=e=>Array.isArray(e)?e.map((e=>{if(e.class&&e.class.length)return e})):[],t=t=>{const{addFilter:n,utils:i}=t,{Type:o,createRoute:l}=i;return n("CREATE_VIEW",(t=>{const{is:n,view:i,query:o}=t;if(!n("file"))return;i.registerWriter(l({DID_LOAD_ITEM:({root:t,props:n})=>{const{id:i}=n,l=o("GET_ITEM",i);if(!l||l.archived)return;if(t.query("GET_ALLOW_CUSTOM_ICON")){const n=t.query("GET_CUSTOM_ICON_LIST");if(n&&n.length){const i=t.query("GET_ON_CLICK_CUSTOM_ICON");((t,n,i,o)=>{const l=n.querySelector(".filepond--file-info"),r=n.querySelector(".filepond--file-info-main"),c=e(i);if(c.length){let e=n.querySelector(".filepond--file-info-main-container");e||(e=document.createElement("div"),e.className="filepond--file-info-main-container",e.append(r),l.prepend(e)),c.forEach((n=>{let i=document.createElement("span");i.className="filepond--custom-icon "+n.class,n.title&&(i.title=n.title),n.id&&(i.dataset.id=n.id),i.addEventListener("click",(()=>{o&&o(t,n,i)})),e.prepend(i)}))}})(l,t.element,n,i)}}}},(({root:e,props:t})=>{const{id:n}=t;o("GET_ITEM",n);e.rect.element.hidden})))})),{options:{customIconList:[[],o.ARRAY],onClickCustomIcon:[null,o.FUNCTION],allowCustomIcon:[!1,o.BOOLEAN]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t}));export{t as default};
