/*!
 * FilePondPluginCustomIcon 1.0.0
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */

/* eslint-disable */

!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).FilePondPluginCustomIcon=n()}(this,(function(){"use strict";const e=e=>Array.isArray(e)?e.map((e=>{if(e.class&&e.class.length)return e})):[],n=n=>{const{addFilter:t,utils:i}=n,{Type:o,createRoute:l}=i;return t("CREATE_VIEW",(n=>{const{is:t,view:i,query:o}=n;if(!t("file"))return;i.registerWriter(l({DID_LOAD_ITEM:({root:n,props:t})=>{const{id:i}=t,l=o("GET_ITEM",i);if(!l||l.archived)return;if(n.query("GET_ALLOW_CUSTOM_ICON")){const t=n.query("GET_CUSTOM_ICON_LIST");if(t&&t.length){const i=n.query("GET_ON_CLICK_CUSTOM_ICON");((n,t,i,o)=>{const l=t.querySelector(".filepond--file-info"),d=t.querySelector(".filepond--file-info-main"),r=e(i);if(r.length){let e=t.querySelector(".filepond--file-info-main-container");e||(e=document.createElement("div"),e.className="filepond--file-info-main-container",e.append(d),l.prepend(e)),r.forEach((t=>{let i=document.createElement("span");i.className="filepond--custom-icon "+t.class,t.title&&(i.title=t.title),t.id&&(i.dataset.id=t.id),i.addEventListener("click",(()=>{o&&o(n,t,i)})),e.prepend(i)}))}})(l,n.element,t,i)}}}},(({root:e,props:n})=>{const{id:t}=n;o("GET_ITEM",t);e.rect.element.hidden})))})),{options:{customIconList:[[],o.ARRAY],onClickCustomIcon:[null,o.FUNCTION],allowCustomIcon:[!1,o.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:n})),n}));
